# 🔐 測試帳號與權限說明

> 系統內建的測試帳號，用於開發、測試和展示

---

## 📋 測試帳號總覽

### React 管理後台（員工系統）

| 角色 | Email | 密碼 | 權限等級 |
|------|-------|------|---------|
| **管理員** | admin@ngo.org | Admin123! | 最高權限 |
| **督導** | supervisor@ngo.org | Super123! | 管理權限 |
| **員工** | staff@ngo.org | Staff123! | 基本權限 |

### MVC 用戶前台（民眾/個案系統）

| 角色 | Email | 密碼 | 說明 |
|------|-------|------|------|
| **一般民眾** | test.user@example.com | Test123! | 活動報名、物資認購 |
| **個案** | *(由社工建立)* | *(由社工設定)* | 由管理後台建立 |

---

## 👨‍💼 管理員帳號（Administrator）

### 登入資訊
```
Email：admin@ngo.org
密碼：Admin123!
```

### 權限範圍

管理員擁有**完整系統權限**：

#### ✅ 個案管理
- 查看所有個案
- 新增個案
- 編輯所有個案
- 刪除個案
- 指派個案給員工
- 查看個案服務記錄
- 新增/編輯服務記錄

#### ✅ 活動管理
- 查看所有活動
- 新增活動
- 編輯所有活動
- 刪除活動
- 查看活動報名
- 審核報名申請
- 匯出報名名單

#### ✅ 物資管理
- 查看所有物資需求
- 新增物資需求
- 編輯所有需求
- 刪除需求
- 媒合物資
- 查看媒合記錄

#### ✅ 志工管理
- 查看所有志工
- 新增志工
- 編輯志工資料
- 刪除志工
- 指派志工任務
- 查看志工服務時數

#### ✅ 用戶管理
- 查看所有用戶
- 新增員工帳號
- 編輯員工資料
- 停用/啟用帳號
- 修改權限角色

#### ✅ 統計報表
- 查看所有統計數據
- 匯出報表
- 查看圖表

### 適用場景
- **面試展示**：展示完整系統功能
- **系統測試**：測試所有功能
- **資料維護**：管理系統資料

---

## 👨‍🏫 督導帳號（Supervisor）

### 登入資訊
```
Email：supervisor@ngo.org
密碼：Super123!
```

### 權限範圍

督導擁有**管理權限但不能刪除核心資料**：

#### ✅ 個案管理
- 查看所有個案
- 新增個案
- 編輯個案（受限）
- ~~刪除個案~~ ❌
- 指派個案
- 新增服務記錄

#### ✅ 活動管理
- 查看所有活動
- 新增活動
- 編輯活動
- 審核報名

#### ✅ 物資管理
- 查看所有物資
- 新增需求
- 編輯需求
- 媒合物資

#### ✅ 志工管理
- 查看所有志工
- 新增志工
- 編輯志工
- 指派任務

#### ❌ 用戶管理
- ~~無法管理用戶~~

#### ✅ 統計報表
- 查看統計數據
- 匯出報表

### 適用場景
- **展示權限控制**：展示不同角色的權限差異
- **測試工作流程**：模擬督導日常操作

---

## 👨‍💻 員工帳號（Staff）

### 登入資訊
```
Email：staff@ngo.org
密碼：Staff123!
```

### 權限範圍

員工擁有**基本工作權限**：

#### ✅ 個案管理（受限）
- 查看被指派的個案
- ~~查看其他員工的個案~~ ❌
- 編輯自己的個案
- ~~刪除個案~~ ❌
- 新增服務記錄

#### ✅ 活動管理（受限）
- 查看所有活動
- ~~新增活動~~ ❌
- ~~編輯活動~~ ❌
- 查看報名資料

#### ✅ 物資管理（查看）
- 查看物資需求
- ~~新增需求~~ ❌
- ~~編輯需求~~ ❌

#### ✅ 志工管理（查看）
- 查看志工資料
- ~~編輯志工~~ ❌

#### ❌ 用戶管理
- ~~無法管理用戶~~

#### ✅ 統計報表（受限）
- 查看基本統計
- ~~無法匯出報表~~

### 適用場景
- **展示資料隔離**：展示員工只能看到自己的個案
- **測試權限限制**：驗證權限控制正確性

---

## 🎯 面試展示建議

### 推薦展示流程

#### 1. 使用管理員帳號（主要展示）

**展示內容**：
```
1. 登入系統
2. Dashboard 總覽
3. 個案管理完整流程
4. 活動管理
5. 物資媒合
6. 統計報表
```

**時間**：5-6 分鐘

---

#### 2. 切換督導帳號（展示權限控制）

**展示內容**：
```
1. 登出管理員
2. 登入督導帳號
3. 指出無法訪問「用戶管理」
4. 展示無法刪除個案
```

**時間**：1-2 分鐘

**說明重點**：
> "系統實作了基於角色的權限控制（RBAC），
> 督導可以管理業務資料，但不能刪除核心資料或管理用戶。"

---

#### 3. 切換員工帳號（選用）

**展示內容**：
```
1. 登入員工帳號
2. 展示只能看到被指派的個案
3. 展示無法新增活動
```

**時間**：1 分鐘

**說明重點**：
> "員工只能訪問被指派的個案，確保資料隔離和隱私保護。"

---

## 🔄 登入登出流程

### 切換帳號步驟

1. **登出當前帳號**
   - 點擊右上角使用者名稱
   - 選擇「登出」

2. **登入新帳號**
   - 輸入 Email
   - 點擊「下一步」
   - 輸入密碼
   - 點擊「登入」

### 快速切換技巧

可以使用瀏覽器的「無痕模式」同時登入多個帳號：
- 正常視窗：管理員
- 無痕視窗 1：督導
- 無痕視窗 2：員工

---

## ⚠️ 重要注意事項

### 1. 密碼格式要求

所有測試帳號密碼都符合系統要求：
- 至少 8 個字元
- 包含大寫字母
- 包含小寫字母
- 包含數字
- 包含特殊符號

### 2. 不要修改測試帳號

- ❌ 不要修改測試帳號的密碼
- ❌ 不要刪除測試帳號
- ❌ 不要修改測試帳號的權限

如果不小心修改了，需要從資料庫腳本重新建立。

### 3. 展示用資料

系統內建的測試資料：
- 32 個個案
- 24 個志工
- 31 個活動
- 多筆物資需求

展示時可以直接使用這些資料，不需要重新建立。

### 4. 安全性提醒

這些是**測試帳號**：
- ❌ 不要用於正式環境
- ❌ 密碼是公開的，不要放真實資料
- ✅ 僅用於開發、測試、展示

---

## 📝 常見問題

### Q: 忘記密碼怎麼辦？

A: 密碼都記錄在這份文檔中，直接複製使用。

### Q: 可以新增其他測試帳號嗎？

A: 可以，使用管理員帳號登入後，在「用戶管理」新增。

### Q: 如何重置測試帳號？

A: 執行資料庫初始化腳本：
```batch
資料位置：database/初始化腳本.sql
```

### Q: 測試帳號的資料會不會被清空？

A: 不會，除非手動執行資料庫重置腳本。

---

## 🎯 快速複製區

### 管理員（最常用）
```
admin@ngo.org
Admin123!
```

### 督導
```
supervisor@ngo.org
Super123!
```

### 員工
```
staff@ngo.org
Staff123!
```

### 一般民眾（MVC 前台）
```
test.user@example.com
Test123!
```

---

## 🏠 MVC 用戶前台測試帳號

### 👤 一般民眾帳號

**登入資訊**：
```
姓名：王小明
Email：test.user@example.com
密碼：Test123!
電話：0912-345-678
身分證：A123456789
```

**功能權限**：
- ✅ 瀏覽活動資訊
- ✅ 報名參加活動
- ✅ 認購物資
- ✅ 線上付款（ECPay）
- ✅ 查看個人報名記錄
- ✅ 查看購買記錄
- ✅ 編輯個人資料
- ✅ 成就系統

**使用場景**：
- 展示一般民眾如何使用系統
- 測試活動報名流程
- 測試物資認購功能
- 測試 ECPay 金流整合

---

### 🏥 個案帳號

**重要說明**：個案帳號**不是**由民眾自行註冊，而是由**社工在管理後台建立**。

**建立流程**：
1. 社工使用管理員/督導/員工帳號登入 React 管理後台
2. 進入「個案管理」頁面
3. 點擊「新增個案」
4. 填寫個案資料（姓名、電話、身分證、Email 等）
5. 系統自動為個案建立登入帳號

**個案登入方式**：
```
Email：(社工建立時填寫的 Email)
密碼：(由社工設定或系統預設)
```

**功能權限**：
- ✅ 查看專屬活動
- ✅ 報名個案專屬活動
- ✅ 申請物資需求
- ✅ 查看物資配送記錄
- ✅ 查看個人檔案
- ✅ 編輯基本資料

**測試建議**：
- 使用管理員帳號在後台先建立 1-2 個測試個案
- 記錄個案的 Email 和密碼
- 在 MVC 前台使用個案帳號登入測試

---

<div align="center">

**密碼提示**：Admin/Super/Staff + 123! (管理後台) | Test123! (MVC 前台)

**最後更新**：2025-12-26

</div>

---

## 💳 ECPay 綠界金流測試資料

### 信用卡測試卡號

**測試環境網址**: https://payment-stage.ecpay.com.tw

| 項目 | 測試資料 |
|------|---------|
| **信用卡卡號** | `4311-9511-1111-1111` |
| **有效期限** | 任意未來日期（例如：12/25） |
| **CVV 安全碼** | `222` |
| **3D 驗證密碼** | 無需輸入（測試環境自動通過） |

### 測試流程

1. **進入付款頁面**：
   - 在 MVC 前台選擇物資認購
   - 選擇 ECPay 綠界付款
   - 點擊「前往付款」

2. **填寫測試卡號**：
   - 卡號：`4311-9511-1111-1111`
   - 有效期限：`12/25`（或任意未來日期）
   - CVV：`222`

3. **完成付款**：
   - 測試環境會自動模擬付款成功
   - 自動跳轉回系統
   - 訂單狀態更新為「已付款」

### 其他測試卡號（選用）

| 卡別 | 卡號 | 說明 |
|------|------|------|
| **VISA（推薦）** | `4311-9511-1111-1111` | ✅ 已測試通過 |
| **MasterCard** | `5424-0000-0000-0015` | 付款成功 |
| **JCB** | `3566-0020-2036-0505` | 付款成功 |

### 注意事項

⚠️ **重要**：
- 這些卡號**僅能在測試環境使用**
- 正式環境不接受這些測試卡號
- 測試環境不會實際扣款
- 有效期限必須填寫未來日期

📌 **測試提示**：
- 如果付款失敗，請檢查 Cloudflare Tunnel 是否正常運行
- ECPay 需要透過公開網址接收付款回調
- 本地環境（localhost）無法完成 ECPay 付款流程

---

**相關文檔**：
- [00-快速開始.md](00-快速開始.md) - 系統啟動
- [02-Cloudflare展示指南.md](02-Cloudflare展示指南.md) - 公開展示
- [04-常見問題.md](04-常見問題.md) - 故障排除
