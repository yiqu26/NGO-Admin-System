# 01 ç³»çµ±æ¶æ§‹èˆ‡åŠŸèƒ½èªªæ˜

> NGO æ¡ˆä»¶ç®¡ç†ç³»çµ±çš„å®Œæ•´æŠ€è¡“æ¶æ§‹èˆ‡æ ¸å¿ƒåŠŸèƒ½ä»‹ç´¹

---

## ğŸ“‹ ç›®éŒ„

- [ç³»çµ±æ¦‚è¦½](#ç³»çµ±æ¦‚è¦½)
- [æ•´é«”æ¶æ§‹](#æ•´é«”æ¶æ§‹)
- [æŠ€è¡“æ£§](#æŠ€è¡“æ£§)
- [ä¸‰å€‹å­ç³»çµ±](#ä¸‰å€‹å­ç³»çµ±)
- [è³‡æ–™åº«è¨­è¨ˆ](#è³‡æ–™åº«è¨­è¨ˆ)
- [æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„](#æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„)
- [ç³»çµ±é‹ä½œæµç¨‹](#ç³»çµ±é‹ä½œæµç¨‹)
- [æŠ€è¡“äº®é»](#æŠ€è¡“äº®é»)

---

## ğŸ¯ ç³»çµ±æ¦‚è¦½

**NGO æ¡ˆä»¶ç®¡ç†ç³»çµ±**æ˜¯ä¸€å€‹å®Œæ•´çš„éç‡Ÿåˆ©çµ„ç¹”ç®¡ç†å¹³å°ï¼Œæ¡ç”¨**ç¾ä»£åŒ–å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹**ï¼Œæä¾›å€‹æ¡ˆè¿½è¹¤ã€æ´»å‹•ç®¡ç†ã€ç‰©è³‡é…é€ã€å¿—å·¥å”ä½œç­‰åŠŸèƒ½ã€‚

### ç³»çµ±å®šä½

- **ç®¡ç†ç«¯**ï¼šä¾› NGO å…§éƒ¨å“¡å·¥ä½¿ç”¨ï¼ˆç®¡ç†å“¡ã€ç£å°ã€ç¤¾å·¥ï¼‰
- **ç”¨æˆ¶ç«¯**ï¼šä¾›ä¸€èˆ¬æ°‘çœ¾å’Œå€‹æ¡ˆä½¿ç”¨ï¼ˆæ´»å‹•å ±åã€ç‰©è³‡èªè³¼ï¼‰
- **æ•´åˆç«¯**ï¼šçµ±ä¸€çš„å¾Œç«¯ API æœå‹™ï¼Œæ”¯æ´å¤šç¨®å‰ç«¯æ‡‰ç”¨

### ä½¿ç”¨è€…è§’è‰²

| è§’è‰² | ç³»çµ± | æ¬Šé™ç­‰ç´š |
|------|------|----------|
| **ç®¡ç†å“¡** | React å¾Œå° | å®Œæ•´ç³»çµ±æ¬Šé™ |
| **ç£å°** | React å¾Œå° | ç®¡ç†æ¬Šé™ï¼ˆç„¡åˆªé™¤æ ¸å¿ƒè³‡æ–™ï¼‰ |
| **å“¡å·¥** | React å¾Œå° | åŸºæœ¬æ“ä½œæ¬Šé™ |
| **ä¸€èˆ¬æ°‘çœ¾** | MVC å‰å° | æ´»å‹•å ±åã€ç‰©è³‡èªè³¼ |
| **å€‹æ¡ˆ** | MVC å‰å° | å€‹æ¡ˆå°ˆå±¬æ´»å‹•ã€ç‰©è³‡ç”³è«‹ |

---

## ğŸ—ï¸ æ•´é«”æ¶æ§‹

### ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       NGO ç®¡ç†ç³»çµ±                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“                â†“                â†“

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   React å‰ç«¯     â”‚  â”‚   MVC å‰ç«¯       â”‚  â”‚  WebAPI å¾Œç«¯     â”‚
  â”‚   ç®¡ç†å¾Œå°       â”‚  â”‚   ç”¨æˆ¶å‰å°       â”‚  â”‚  æ ¸å¿ƒæœå‹™å±¤      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ React 18         â”‚  â”‚ ASP.NET MVC      â”‚  â”‚ ASP.NET Core 9   â”‚
  â”‚ Vite             â”‚  â”‚ .NET 8           â”‚  â”‚ Entity Framework â”‚
  â”‚ Material-UI      â”‚  â”‚ Google OAuth     â”‚  â”‚ Azure Services   â”‚
  â”‚ Chart.js         â”‚  â”‚ ECPay é‡‘æµ       â”‚  â”‚ FluentValidation â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â”‚                      â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SQL Server è³‡æ–™åº«    â”‚
                    â”‚   NGOPlatformDb       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™æµå‹•

```
ã€ç®¡ç†æµç¨‹ã€‘
å“¡å·¥ â†’ React å‰å° â†’ WebAPI â†’ è³‡æ–™åº« â†’ å›æ‡‰è³‡æ–™ â†’ åœ–è¡¨é¡¯ç¤º

ã€ç”¨æˆ¶æµç¨‹ã€‘
æ°‘çœ¾ â†’ MVC å‰å° â†’ WebAPI â†’ è³‡æ–™åº« â†’ è¨‚å–®å»ºç«‹ â†’ ECPay ä»˜æ¬¾ â†’ å›èª¿æ›´æ–°
```

### éƒ¨ç½²æ¶æ§‹

```
ã€é–‹ç™¼ç’°å¢ƒã€‘
- React å‰ç«¯ï¼šlocalhost:5173
- MVC å‰å°ï¼šlocalhost:5066
- WebAPIï¼šlocalhost:5264
- SQL Serverï¼šæœ¬åœ°è³‡æ–™åº«

ã€å±•ç¤ºç’°å¢ƒï¼ˆCloudflare Tunnelï¼‰ã€‘
- Backend APIï¼šhttps://xxx.trycloudflare.com
- MVC å‰å°ï¼šhttps://yyy.trycloudflare.com
- React å‰ç«¯ï¼šlocalhost:5173ï¼ˆå…§ç¶²è¨ªå•ï¼‰
```

---

## ğŸ›  æŠ€è¡“æ£§

### å¾Œç«¯æŠ€è¡“

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **ASP.NET Core** | 9.0 | WebAPI æ¡†æ¶ |
| **Entity Framework Core** | æœ€æ–° | ORM è³‡æ–™å­˜å– |
| **SQL Server** | 2019+ | é—œè¯å¼è³‡æ–™åº« |
| **FluentValidation** | æœ€æ–° | è³‡æ–™é©—è­‰ |
| **Azure Blob Storage** | - | åœ–ç‰‡å„²å­˜ |
| **Azure OpenAI** | GPT-4 | AI æ–‡å­—ç”Ÿæˆ |
| **Azure Speech Service** | - | èªéŸ³è½‰æ–‡å­— |
| **DALL-E 3** | - | AI åœ–ç‰‡ç”Ÿæˆ |

### å‰ç«¯æŠ€è¡“ï¼ˆReact ç®¡ç†å¾Œå°ï¼‰

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **React** | 18 | UI æ¡†æ¶ |
| **Vite** | æœ€æ–° | å»ºç½®å·¥å…· |
| **Material-UI (MUI)** | 5.x | UI å…ƒä»¶åº« |
| **Ant Design** | 5.x | UI å…ƒä»¶åº« |
| **Chart.js** | 4.x | åœ–è¡¨è¦–è¦ºåŒ– |
| **Axios** | 1.x | HTTP å®¢æˆ¶ç«¯ |
| **React Router** | 6.x | è·¯ç”±ç®¡ç† |

### å‰ç«¯æŠ€è¡“ï¼ˆMVC ç”¨æˆ¶å‰å°ï¼‰

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **ASP.NET Core MVC** | .NET 8 | MVC æ¡†æ¶ |
| **Bootstrap** | 5.x | éŸ¿æ‡‰å¼å¸ƒå±€ |
| **jQuery** | 3.x | DOM æ“ä½œ |
| **Google OAuth 2.0** | - | ç¬¬ä¸‰æ–¹ç™»å…¥ |
| **ECPay ç¶ ç•Œé‡‘æµ** | 5.6.0 | ç·šä¸Šä»˜æ¬¾ |

---

## ğŸ“¦ ä¸‰å€‹å­ç³»çµ±

### 1ï¸âƒ£ WebAPI å¾Œç«¯ï¼ˆASP.NET Core 9ï¼‰

**ä½ç½®**ï¼š`NGO-Management-System/backend/`
**é‹è¡Œ**ï¼š`http://localhost:5264`

#### æ ¸å¿ƒç‰¹æ€§

- âœ… **ä¸‰å±¤æ¶æ§‹**ï¼šController â†’ Service â†’ Repository
- âœ… **çµ±ä¸€å›æ‡‰æ ¼å¼**ï¼š`ApiResponse<T>`
- âœ… **è‡ªå‹•é©—è­‰**ï¼šFluentValidation è³‡æ–™é©—è­‰
- âœ… **åˆ†é æ”¯æ´**ï¼šæ‰€æœ‰åˆ—è¡¨ API æ”¯æ´åˆ†é 
- âœ… **Azure æ•´åˆ**ï¼šStorageã€OpenAIã€Speech Service
- âœ… **CORS è·¨åŸŸ**ï¼šå…è¨±å‰ç«¯è·¨åŸŸè«‹æ±‚

#### API æ¨¡çµ„

```
Controllers/
â”œâ”€â”€ AccountManagement/      # å¸³è™Ÿç®¡ç†
â”‚   â”œâ”€â”€ AccountController   # å¸³è™Ÿ CRUD
â”‚   â”œâ”€â”€ AuthController      # ç™»å…¥é©—è­‰
â”‚   â””â”€â”€ WorkerController    # å“¡å·¥ç®¡ç†
â”œâ”€â”€ ActivityManagement/     # æ´»å‹•ç®¡ç†
â”‚   â”œâ”€â”€ ActivityController          # æ´»å‹• CRUD
â”‚   â”œâ”€â”€ ActivityAIOptimizer        # AI å„ªåŒ–å»ºè­°
â”‚   â””â”€â”€ RegistrationReview         # å ±åå¯©æ ¸
â”œâ”€â”€ CaseManagement/         # æ¡ˆä»¶ç®¡ç†
â”‚   â”œâ”€â”€ CaseController              # å€‹æ¡ˆ CRUD
â”‚   â””â”€â”€ CaseSpeechToText           # èªéŸ³è¼¸å…¥
â”œâ”€â”€ SupplyManagement/       # ç‰©è³‡ç®¡ç†
â”‚   â”œâ”€â”€ SupplyController            # ç‰©è³‡ CRUD
â”‚   â”œâ”€â”€ EmergencySupplyNeed        # ç·Šæ€¥ç‰©è³‡
â”‚   â””â”€â”€ RegularDistribution        # å®šæœŸé…é€
â””â”€â”€ Dashboard/              # å„€è¡¨æ¿
    â””â”€â”€ DashboardController         # çµ±è¨ˆæ•¸æ“š
```

#### çµ±ä¸€ API å›æ‡‰æ ¼å¼

```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { ... },
  "timestamp": "2025-12-29T10:00:00Z"
}
```

åˆ†é  API å›æ‡‰ï¼š
```json
{
  "success": true,
  "message": "ç²å–è³‡æ–™æˆåŠŸ",
  "data": [...],
  "page": 1,
  "pageSize": 10,
  "totalCount": 50,
  "totalPages": 5,
  "hasNextPage": true,
  "hasPreviousPage": false,
  "timestamp": "2025-12-29T10:00:00Z"
}
```

---

### 2ï¸âƒ£ React ç®¡ç†å¾Œå°ï¼ˆå“¡å·¥ç³»çµ±ï¼‰

**ä½ç½®**ï¼š`NGO-Management-System/frontend/`
**é‹è¡Œ**ï¼š`http://localhost:5173`

#### æ ¸å¿ƒåŠŸèƒ½

- ğŸ“Š **Dashboard å„€è¡¨æ¿**ï¼šå³æ™‚çµ±è¨ˆã€åœ–è¡¨è¦–è¦ºåŒ–
- ğŸ“ **æ¡ˆä»¶ç®¡ç†**ï¼šå€‹æ¡ˆ CRUDã€èªéŸ³è¼¸å…¥ã€åœ–ç‰‡ä¸Šå‚³
- ğŸ¯ **æ´»å‹•ç®¡ç†**ï¼šæ´»å‹•å»ºç«‹ã€å ±åå¯©æ ¸ã€AI å„ªåŒ–
- ğŸ“¦ **ç‰©è³‡ç®¡ç†**ï¼šåº«å­˜ç®¡ç†ã€ç‰©è³‡åª’åˆã€é…é€è¿½è¹¤
- ğŸ‘¥ **å¸³è™Ÿç®¡ç†**ï¼šå“¡å·¥ç®¡ç†ã€è§’è‰²æ¬Šé™
- ğŸ“… **è¡Œç¨‹ç®¡ç†**ï¼šå€‹äººèˆ‡åœ˜éšŠè¡Œç¨‹

#### ç‰¹è‰²åŠŸèƒ½

1. **AI èªéŸ³è¼¸å…¥**ï¼ˆAzure Speech Serviceï¼‰
   - å€‹æ¡ˆè³‡æ–™èªéŸ³éŒ„å…¥
   - å³æ™‚è½‰æ–‡å­—é¡¯ç¤º
   - æ”¯æ´ç¹é«”ä¸­æ–‡

2. **AI æ´»å‹•å„ªåŒ–**ï¼ˆAzure OpenAI GPT-4ï¼‰
   - æ´»å‹•æè¿°å„ªåŒ–å»ºè­°
   - ç›®æ¨™å—çœ¾åˆ†æ
   - æ´»å‹•æ”¹å–„æ–¹æ¡ˆ

3. **AI åœ–ç‰‡ç”Ÿæˆ**ï¼ˆDALL-E 3ï¼‰
   - æ´»å‹•æµ·å ±è‡ªå‹•ç”Ÿæˆ
   - æ ¹æ“šæ´»å‹•æè¿°ç”¢ç”Ÿåœ–ç‰‡

4. **åœ–è¡¨è¦–è¦ºåŒ–**ï¼ˆChart.jsï¼‰
   - æ€§åˆ¥åˆ†ä½ˆåœ“é¤…åœ–
   - åŸå¸‚åˆ†ä½ˆé•·æ¢åœ–
   - å›°é›£é¡å‹é›·é”åœ–

#### æ¬Šé™æ§åˆ¶

ä½¿ç”¨ `useUserRole()` hook å¯¦ç¾è§’è‰²æ¬Šé™ï¼š

```tsx
const { isAdmin, isSupervisor, isStaff } = useUserRole();

// ç®¡ç†å“¡æ‰èƒ½åˆªé™¤
{isAdmin && <DeleteButton />}

// ç£å°å’Œç®¡ç†å“¡å¯ä»¥å¯©æ ¸
{(isAdmin || isSupervisor) && <ApproveButton />}
```

---

### 3ï¸âƒ£ MVC ç”¨æˆ¶å‰å°ï¼ˆæ°‘çœ¾/å€‹æ¡ˆç³»çµ±ï¼‰

**ä½ç½®**ï¼š`NGO-Management-System/mvc-frontend/NGOPlatformWeb/`
**é‹è¡Œ**ï¼š`http://localhost:5066`

#### æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **å¤šé‡ç™»å…¥**ï¼šæœ¬åœ°å¸³è™Ÿã€Google OAuth
- ğŸ“… **æ´»å‹•å ±å**ï¼šç€è¦½æ´»å‹•ã€ç·šä¸Šå ±å
- ğŸ›’ **ç‰©è³‡èªè³¼**ï¼šé¸è³¼ç‰©è³‡ã€ç·šä¸Šä»˜æ¬¾
- ğŸ’³ **ECPay é‡‘æµ**ï¼šå®‰å…¨ä»˜æ¬¾ã€è‡ªå‹•å›èª¿
- ğŸ‘¤ **å€‹äººè³‡æ–™**ï¼šè³‡æ–™ç·¨è¼¯ã€æˆå°±ç³»çµ±
- ğŸ“§ **Email é€šçŸ¥**ï¼šå¯†ç¢¼é‡è¨­ã€è¨‚å–®é€šçŸ¥

#### ECPay é‡‘æµæ•´åˆï¼ˆæŠ€è¡“äº®é»ï¼‰

**ä»˜æ¬¾æµç¨‹**ï¼š
```
1. ç”¨æˆ¶é¸æ“‡ç‰©è³‡ â†’ å»ºç«‹è¨‚å–®ï¼ˆPaymentStatus: "å¾…ä»˜æ¬¾"ï¼‰
2. ç”Ÿæˆ CheckMacValueï¼ˆSHA256 åŠ å¯†ï¼‰
3. è·³è½‰åˆ° ECPay ä»˜æ¬¾é é¢
4. ç”¨æˆ¶å®Œæˆä»˜æ¬¾
5. ECPay å›èª¿ ReturnURLï¼ˆServer-to-Serverï¼‰
   â†’ é©—è­‰ CheckMacValue
   â†’ æ›´æ–°è¨‚å–®ç‹€æ…‹ç‚º "å·²ä»˜æ¬¾"
   â†’ æ‰£é™¤åº«å­˜
6. ECPay è·³è½‰ ClientBackURLï¼ˆBrowser redirectï¼‰
   â†’ é¡¯ç¤ºä»˜æ¬¾æˆåŠŸé é¢
```

**å®‰å…¨æ©Ÿåˆ¶**ï¼š
- **CheckMacValue é©—è­‰**ï¼šé˜²æ­¢å½é€ å›èª¿
- **SHA256 åŠ å¯†**ï¼šé›™å‘åƒæ•¸ç°½ç« 
- **Server å›èª¿**ï¼šç¢ºä¿è¨‚å–®æ›´æ–°å¯é æ€§
- **Dual URL è¨­è¨ˆ**ï¼šReturnURLï¼ˆå¾Œç«¯ï¼‰ + ClientBackURLï¼ˆå‰ç«¯ï¼‰

è©³ç´°æŠ€è¡“åˆ†æè«‹åƒè€ƒï¼š[04-ECPayç¶ ç•Œé‡‘æµæŠ€è¡“åˆ†æèˆ‡é¢è©¦æŒ‡å—.md](04-ECPayç¶ ç•Œé‡‘æµæŠ€è¡“åˆ†æèˆ‡é¢è©¦æŒ‡å—.md)

#### Google OAuth ç™»å…¥

**è¨­å®šä½ç½®**ï¼šGoogle Cloud Console
**Redirect URI**ï¼š`https://your-domain/signin-google`
**ä½¿ç”¨å ´æ™¯**ï¼šæ°‘çœ¾å¿«é€Ÿè¨»å†Šç™»å…¥ï¼Œç„¡éœ€å»ºç«‹å¯†ç¢¼

---

## ğŸ—„ï¸ è³‡æ–™åº«è¨­è¨ˆ

### è³‡æ–™åº«åç¨±

**NGOPlatformDb**ï¼ˆSQL Server 2019+ï¼‰

### æ ¸å¿ƒè³‡æ–™è¡¨

#### 1. ç”¨æˆ¶èˆ‡æ¬Šé™ç®¡ç†

| è³‡æ–™è¡¨ | èªªæ˜ | é‡è¦æ¬„ä½ |
|--------|------|----------|
| **Users** | ä¸€èˆ¬æ°‘çœ¾å¸³è™Ÿ | Email, Password, FullName, Phone |
| **Workers** | å“¡å·¥å¸³è™Ÿ | Email, Password, Role (ç®¡ç†å“¡/ç£å°/å“¡å·¥) |
| **Cases** | å€‹æ¡ˆè³‡æ–™ | CaseNumber, Name, IDNumber, DifficultyLevel |
| **CaseLogin** | å€‹æ¡ˆç™»å…¥è³‡è¨Š | Email, Password, CaseId |
| **PasswordResetToken** | å¯†ç¢¼é‡è¨­ Token | Token, Email, ExpiryTime |

#### 2. æ´»å‹•ç®¡ç†

| è³‡æ–™è¡¨ | èªªæ˜ | é‡è¦æ¬„ä½ |
|--------|------|----------|
| **Activities** | æ´»å‹•è³‡æ–™ | Name, Description, StartTime, Location |
| **ActivityCategory** | æ´»å‹•åˆ†é¡ | CategoryName |
| **UserActivityRegistration** | æ°‘çœ¾å ±åè¨˜éŒ„ | UserId, ActivityId, RegistrationDate |
| **CaseActivityRegistration** | å€‹æ¡ˆå ±åè¨˜éŒ„ | CaseId, ActivityId, Status |

#### 3. ç‰©è³‡èˆ‡è¨‚å–®ç®¡ç†

| è³‡æ–™è¡¨ | èªªæ˜ | é‡è¦æ¬„ä½ |
|--------|------|----------|
| **Supplies** | ç‰©è³‡è³‡æ–™ | Name, Quantity, Price, Category |
| **SupplyCategory** | ç‰©è³‡åˆ†é¡ | CategoryName |
| **EmergencySupplyNeed** | ç·Šæ€¥ç‰©è³‡éœ€æ±‚ | CaseId, SupplyId, Quantity, Status |
| **RegularSuppliesNeed** | å®šæœŸç‰©è³‡éœ€æ±‚ | CaseId, DistributionDate |
| **UserOrder** | ç”¨æˆ¶è¨‚å–® | OrderNumber, TotalAmount, PaymentStatus |
| **UserOrderDetail** | è¨‚å–®æ˜ç´° | OrderId, SupplyId, Quantity, Price |
| **EcpayTransaction** | ECPay äº¤æ˜“è¨˜éŒ„ | MerchantTradeNo, Status, Amount |

#### 4. ç³»çµ±ç®¡ç†

| è³‡æ–™è¡¨ | èªªæ˜ | é‡è¦æ¬„ä½ |
|--------|------|----------|
| **Schedule** | è¡Œç¨‹ç®¡ç† | Title, StartTime, EndTime, WorkerId |
| **News** | æœ€æ–°æ¶ˆæ¯ | Title, Content, PublishDate |

### Entity Framework é—œè¯

```csharp
// ä¸€å°å¤šé—œä¿‚
public class Case
{
    public int CaseId { get; set; }
    public string Name { get; set; }

    // å°èˆªå±¬æ€§
    public ICollection<EmergencySupplyNeed> EmergencySupplyNeeds { get; set; }
    public ICollection<CaseActivityRegistration> ActivityRegistrations { get; set; }
}

// å¤šå°å¤šé—œä¿‚
public class Activity
{
    public int ActivityId { get; set; }
    public string Name { get; set; }

    // é€éä¸­ä»‹è¡¨å»ºç«‹å¤šå°å¤šé—œä¿‚
    public ICollection<UserActivityRegistration> UserRegistrations { get; set; }
    public ICollection<CaseActivityRegistration> CaseRegistrations { get; set; }
}
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

### 1. å€‹æ¡ˆç®¡ç†ï¼ˆCase Managementï¼‰

**åŠŸèƒ½**ï¼š
- æ–°å¢/ç·¨è¼¯/åˆªé™¤å€‹æ¡ˆ
- èªéŸ³è¼¸å…¥å€‹æ¡ˆè³‡æ–™ï¼ˆAzure Speechï¼‰
- å€‹æ¡ˆåœ–ç‰‡ä¸Šå‚³ï¼ˆAzure Blob Storageï¼‰
- é€²éšæœå°‹èˆ‡ç¯©é¸
- å€‹æ¡ˆç‹€æ…‹è¿½è¹¤

**æŠ€è¡“å¯¦ç¾**ï¼š
```
Controller (CaseController.cs)
   â†“
Service (CaseService.cs)
   â†’ é©—è­‰ (FluentValidation)
   â†’ Azure Speech Service (èªéŸ³è½‰æ–‡å­—)
   â†’ Azure Blob Storage (åœ–ç‰‡ä¸Šå‚³)
   â†“
Repository (CaseRepository.cs)
   â†“
Database (Cases è³‡æ–™è¡¨)
```

**æ¬Šé™æ§åˆ¶**ï¼š
- **å“¡å·¥**ï¼šåªèƒ½æŸ¥çœ‹è¢«æŒ‡æ´¾çš„å€‹æ¡ˆ
- **ç£å°**ï¼šæŸ¥çœ‹æ‰€æœ‰å€‹æ¡ˆï¼Œå¯ç·¨è¼¯
- **ç®¡ç†å“¡**ï¼šå®Œæ•´æ¬Šé™

---

### 2. æ´»å‹•ç®¡ç†ï¼ˆActivity Managementï¼‰

**åŠŸèƒ½**ï¼š
- æ´»å‹•å»ºç«‹èˆ‡ç·¨è¼¯
- AI æ´»å‹•å„ªåŒ–å»ºè­°ï¼ˆGPT-4ï¼‰
- AI æ´»å‹•æµ·å ±ç”Ÿæˆï¼ˆDALL-E 3ï¼‰
- å ±åå¯©æ ¸ç³»çµ±
- åƒèˆ‡äººæ•¸çµ±è¨ˆ

**AI æ•´åˆ**ï¼š
```csharp
// Azure OpenAI å„ªåŒ–å»ºè­°
var optimizedContent = await _azureOpenAIService.OptimizeActivityDescription(
    originalDescription
);

// DALL-E 3 ç”Ÿæˆæµ·å ±
var imageUrl = await _azureOpenAIService.GenerateActivityImage(
    activityName,
    activityDescription
);
```

---

### 3. ç‰©è³‡ç®¡ç†ï¼ˆSupply Managementï¼‰

**åŠŸèƒ½**ï¼š
- ç‰©è³‡åº«å­˜ç®¡ç†
- ç·Šæ€¥ç‰©è³‡éœ€æ±‚
- å®šæœŸç‰©è³‡é…é€
- ç‰©è³‡åª’åˆç³»çµ±
- ä½åº«å­˜è­¦ç¤º

**æµç¨‹**ï¼š
```
1. å€‹æ¡ˆæå‡ºç‰©è³‡éœ€æ±‚ï¼ˆç·Šæ€¥/å®šæœŸï¼‰
2. ç³»çµ±è¨˜éŒ„éœ€æ±‚åˆ° EmergencySupplyNeed è¡¨
3. ç¤¾å·¥å¯©æ ¸ä¸¦åª’åˆç‰©è³‡
4. æ°‘çœ¾é€é MVC å‰å°èªè³¼ç‰©è³‡
5. å®Œæˆä»˜æ¬¾å¾Œï¼Œç³»çµ±è‡ªå‹•æ‰£é™¤åº«å­˜
6. æ›´æ–°å€‹æ¡ˆç‰©è³‡éœ€æ±‚ç‹€æ…‹
```

---

### 4. ECPay é‡‘æµæ•´åˆï¼ˆPayment Processingï¼‰

**æ ¸å¿ƒæª”æ¡ˆ**ï¼š
- `Services/EcpayService.cs`ï¼ˆ~340 è¡Œï¼‰
- `Controllers/PurchaseController.cs`ï¼ˆ~1170 è¡Œï¼‰

**é—œéµæ–¹æ³•**ï¼š

1. **CreatePayment()**ï¼šç”Ÿæˆ ECPay ä»˜æ¬¾è¡¨å–®
```csharp
public string CreatePayment(UserOrder order, string returnUrl, string clientBackUrl)
{
    // 1. çµ„åˆä»˜æ¬¾åƒæ•¸
    var parameters = new Dictionary<string, string>
    {
        ["MerchantTradeNo"] = order.OrderNumber,
        ["TotalAmount"] = order.TotalAmount.ToString("0"),
        ["ReturnURL"] = returnUrl,          // Server å›èª¿
        ["ClientBackURL"] = clientBackUrl   // ç€è¦½å™¨è·³è½‰
    };

    // 2. ç”Ÿæˆ CheckMacValueï¼ˆSHA256 åŠ å¯†ï¼‰
    var checkMacValue = GenerateCheckMacValue(parameters, _hashKey, _hashIv);
    parameters["CheckMacValue"] = checkMacValue;

    // 3. ç”¢ç”Ÿ HTML Form
    return GenerateHtmlForm(parameters);
}
```

2. **ProcessCallback()**ï¼šè™•ç† ECPay å›èª¿
```csharp
public async Task<bool> ProcessCallback(IFormCollection form)
{
    // 1. é©—è­‰ CheckMacValue
    var receivedCheckMac = form["CheckMacValue"];
    var calculatedCheckMac = GenerateCallbackCheckMacValue(form, _hashKey, _hashIv);

    if (receivedCheckMac != calculatedCheckMac)
        return false; // æ‹’çµ•å½é€ è«‹æ±‚

    // 2. æ›´æ–°è¨‚å–®ç‹€æ…‹
    var merchantTradeNo = form["MerchantTradeNo"];
    var rtnCode = form["RtnCode"];

    if (rtnCode == "1") // ä»˜æ¬¾æˆåŠŸ
    {
        order.PaymentStatus = "å·²ä»˜æ¬¾";
        await UpdateInventoryAndEmergencyNeeds(order);
    }

    return true;
}
```

**å®‰å…¨æ©Ÿåˆ¶**ï¼š
- âœ… SHA256 åŠ å¯†é©—è­‰
- âœ… Dual URL æ¨¡å¼ï¼ˆReturnURL + ClientBackURLï¼‰
- âœ… Server-to-Server å›èª¿ç¢ºä¿è³‡æ–™å¯é æ€§
- âœ… CheckMacValue é˜²æ­¢åƒæ•¸ç¯¡æ”¹

---

### 5. Dashboard çµ±è¨ˆï¼ˆAnalyticsï¼‰

**åœ–è¡¨é¡å‹**ï¼š
- ğŸ“Š **æ€§åˆ¥åˆ†ä½ˆåœ“é¤…åœ–**ï¼šç”·æ€§/å¥³æ€§æ¯”ä¾‹
- ğŸŒ **åŸå¸‚åˆ†ä½ˆé•·æ¢åœ–**ï¼šå„ç¸£å¸‚å€‹æ¡ˆæ•¸é‡
- ğŸ¯ **å›°é›£é¡å‹é›·é”åœ–**ï¼šç¶“æ¿Ÿ/å¥åº·/æ•™è‚²ç­‰å›°é›£ç¨‹åº¦
- ğŸ“ˆ **æ´»å‹•è¶¨å‹¢æŠ˜ç·šåœ–**ï¼šæœˆåº¦æ´»å‹•åƒèˆ‡äººæ•¸

**æŠ€è¡“å¯¦ç¾**ï¼š
```tsx
// Dashboard.tsx
import { Pie, Bar, Radar, Line } from 'react-chartjs-2';

const Dashboard = () => {
  const [stats, setStats] = useState(null);

  useEffect(() => {
    dashboardService.getStatistics().then(data => {
      setStats(data);
    });
  }, []);

  return (
    <Grid container spacing={3}>
      <Grid item xs={12} md={6}>
        <Pie data={genderChartData} />
      </Grid>
      <Grid item xs={12} md={6}>
        <Bar data={cityChartData} />
      </Grid>
    </Grid>
  );
};
```

---

## ğŸ”„ ç³»çµ±é‹ä½œæµç¨‹

### å®Œæ•´æ¥­å‹™æµç¨‹

```
ã€å€‹æ¡ˆå»ºç«‹èˆ‡ç‰©è³‡é…é€æµç¨‹ã€‘

1. ç¤¾å·¥ç™»å…¥ React ç®¡ç†å¾Œå°
   â†“
2. æ–°å¢å€‹æ¡ˆï¼ˆèªéŸ³è¼¸å…¥/æ‰‹å‹•è¼¸å…¥ï¼‰
   â†“
3. è©•ä¼°å€‹æ¡ˆéœ€æ±‚ï¼Œå»ºç«‹ç‰©è³‡éœ€æ±‚
   â†“
4. æ°‘çœ¾åœ¨ MVC å‰å°ç€è¦½å¯èªè³¼ç‰©è³‡
   â†“
5. æ°‘çœ¾é¸æ“‡ç‰©è³‡ï¼Œå»ºç«‹è¨‚å–®
   â†“
6. è·³è½‰åˆ° ECPay å®Œæˆä»˜æ¬¾
   â†“
7. ECPay å›èª¿ Serverï¼ˆReturnURLï¼‰
   â†’ é©—è­‰å®‰å…¨æ€§
   â†’ æ›´æ–°è¨‚å–®ç‹€æ…‹
   â†’ æ‰£é™¤åº«å­˜
   â†’ æ›´æ–°å€‹æ¡ˆç‰©è³‡éœ€æ±‚ç‹€æ…‹
   â†“
8. ECPay è·³è½‰ç€è¦½å™¨ï¼ˆClientBackURLï¼‰
   â†’ é¡¯ç¤ºä»˜æ¬¾æˆåŠŸé é¢
   â†“
9. ç¤¾å·¥åœ¨ React å¾Œå°æŸ¥çœ‹ç‰©è³‡é…é€è¨˜éŒ„
   â†“
10. å®‰æ’ç‰©è³‡é…é€çµ¦å€‹æ¡ˆ
```

### æ´»å‹•å ±åæµç¨‹

```
ã€æ´»å‹•å»ºç«‹èˆ‡å ±åæµç¨‹ã€‘

1. ç£å°åœ¨ React å¾Œå°å»ºç«‹æ´»å‹•
   â†“
2. ä½¿ç”¨ AI å„ªåŒ–æ´»å‹•æè¿°ï¼ˆGPT-4ï¼‰
   â†“
3. ä½¿ç”¨ AI ç”Ÿæˆæ´»å‹•æµ·å ±ï¼ˆDALL-E 3ï¼‰
   â†“
4. ç™¼å¸ƒæ´»å‹•
   â†“
5. æ°‘çœ¾/å€‹æ¡ˆåœ¨ MVC å‰å°ç€è¦½æ´»å‹•
   â†“
6. ç·šä¸Šå ±åæ´»å‹•
   â†“
7. ç¤¾å·¥åœ¨ React å¾Œå°å¯©æ ¸å ±å
   â†“
8. æ‰¹å‡†å ±åï¼Œç™¼é€é€šçŸ¥
   â†“
9. æ´»å‹•ç•¶å¤©ï¼Œå¿—å·¥ç°½åˆ°
   â†“
10. æ´»å‹•çµæŸå¾Œï¼Œçµ±è¨ˆåƒèˆ‡äººæ•¸
```

---

## âœ¨ æŠ€è¡“äº®é»ï¼ˆé¢è©¦é‡é»ï¼‰

### 1. å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹

**å„ªå‹¢**ï¼š
- âœ… è·è²¬åˆ†é›¢ï¼šå‰ç«¯å°ˆæ³¨ UIï¼Œå¾Œç«¯å°ˆæ³¨æ¥­å‹™é‚è¼¯
- âœ… ç¨ç«‹é–‹ç™¼ï¼šå‰å¾Œç«¯åœ˜éšŠå¯ä¸¦è¡Œé–‹ç™¼
- âœ… æ˜“æ–¼æ“´å±•ï¼šå¯è¼•é¬†æ–°å¢ Mobile App ç­‰å…¶ä»–å‰ç«¯
- âœ… æ•ˆèƒ½å„ªåŒ–ï¼šå‰ç«¯éœæ…‹è³‡æºå¯éƒ¨ç½²åˆ° CDN

**å¯¦ä½œ**ï¼š
```
React å‰ç«¯ï¼ˆport 5173ï¼‰â”€â”
MVC å‰ç«¯ï¼ˆport 5066ï¼‰  â”œâ”€â†’ WebAPIï¼ˆport 5264ï¼‰â†’ SQL Server
æœªä¾† Mobile App      â”€â”˜
```

---

### 2. çµ±ä¸€ API å›æ‡‰æ ¼å¼

**è¨­è¨ˆ**ï¼š
```csharp
public class ApiResponse<T>
{
    public bool Success { get; set; }
    public string Message { get; set; }
    public T? Data { get; set; }
    public DateTime Timestamp { get; set; }

    // åˆ†é å±¬æ€§
    public int? Page { get; set; }
    public int? PageSize { get; set; }
    public int? TotalCount { get; set; }
}
```

**å„ªå‹¢**ï¼š
- âœ… å‰ç«¯è™•ç†çµ±ä¸€
- âœ… éŒ¯èª¤è™•ç†ä¸€è‡´
- âœ… æ˜“æ–¼ç¶­è­·å’Œé™¤éŒ¯

---

### 3. FluentValidation è³‡æ–™é©—è­‰

**ç¯„ä¾‹**ï¼š
```csharp
public class CreateCaseDtoValidator : AbstractValidator<CreateCaseDto>
{
    public CreateCaseDtoValidator()
    {
        RuleFor(x => x.Name)
            .NotEmpty().WithMessage("å§“åä¸å¯ç‚ºç©º")
            .MaximumLength(50).WithMessage("å§“åä¸å¯è¶…é 50 å­—");

        RuleFor(x => x.IDNumber)
            .NotEmpty().WithMessage("èº«åˆ†è­‰å­—è™Ÿä¸å¯ç‚ºç©º")
            .Matches(@"^[A-Z][12]\d{8}$").WithMessage("èº«åˆ†è­‰æ ¼å¼éŒ¯èª¤");

        RuleFor(x => x.Phone)
            .Matches(@"^09\d{8}$").WithMessage("æ‰‹æ©Ÿæ ¼å¼éŒ¯èª¤");
    }
}
```

**å„ªå‹¢**ï¼š
- âœ… é›†ä¸­ç®¡ç†é©—è­‰è¦å‰‡
- âœ… å¯é‡è¤‡ä½¿ç”¨
- âœ… è‡ªå‹•éŒ¯èª¤è¨Šæ¯å›å‚³

---

### 4. Azure é›²ç«¯æœå‹™æ•´åˆ

**æ•´åˆæœå‹™**ï¼š

| Azure æœå‹™ | ç”¨é€” | ä½¿ç”¨å ´æ™¯ |
|-----------|------|----------|
| **Blob Storage** | æª”æ¡ˆå„²å­˜ | å€‹æ¡ˆç…§ç‰‡ã€æ´»å‹•æµ·å ± |
| **OpenAI GPT-4** | æ–‡å­—ç”Ÿæˆ | æ´»å‹•æè¿°å„ªåŒ– |
| **DALL-E 3** | åœ–ç‰‡ç”Ÿæˆ | æ´»å‹•æµ·å ±è‡ªå‹•ç”Ÿæˆ |
| **Speech Service** | èªéŸ³è½‰æ–‡å­— | å€‹æ¡ˆè³‡æ–™èªéŸ³è¼¸å…¥ |

**å„ªå‹¢**ï¼š
- âœ… ç„¡éœ€è‡ªå»ºä¼ºæœå™¨
- âœ… è‡ªå‹•æ“´å±•
- âœ… é«˜å¯ç”¨æ€§
- âœ… å…ˆé€² AI èƒ½åŠ›

---

### 5. ECPay é‡‘æµå®‰å…¨æ©Ÿåˆ¶ï¼ˆé¢è©¦é‡é»ï¼‰

**é›™é‡é©—è­‰**ï¼š
```
ã€ç™¼é€ä»˜æ¬¾è«‹æ±‚ã€‘
1. çµ„åˆåƒæ•¸ï¼ˆMerchantTradeNo, Amount, ReturnURL...ï¼‰
2. ç”¢ç”Ÿ CheckMacValue = SHA256(åƒæ•¸ + HashKey + HashIv)
3. ç™¼é€åˆ° ECPay

ã€æ¥æ”¶ä»˜æ¬¾å›èª¿ã€‘
1. ECPay å›å‚³åƒæ•¸ + CheckMacValue
2. Server é‡æ–°è¨ˆç®— CheckMacValue
3. æ¯”å°æ˜¯å¦ä¸€è‡´ â†’ é©—è­‰é€šé â†’ æ›´æ–°è¨‚å–®
4. è‹¥ä¸ä¸€è‡´ â†’ æ‹’çµ•è«‹æ±‚ï¼ˆé˜²æ­¢å½é€ ï¼‰
```

**Dual URL è¨­è¨ˆ**ï¼š
- **ReturnURL**ï¼ˆServer-to-Serverï¼‰ï¼šç¢ºä¿è¨‚å–®æ›´æ–°å¯é 
- **ClientBackURL**ï¼ˆBrowser redirectï¼‰ï¼šæä¾›ç”¨æˆ¶é«”é©—

**é¢è©¦èªªæ˜ç¯„ä¾‹**ï¼š
> "æˆ‘å€‘çš„ ECPay æ•´åˆæ¡ç”¨é›™é‡å®‰å…¨æ©Ÿåˆ¶ï¼šé¦–å…ˆä½¿ç”¨ SHA256 åŠ å¯†ç”¢ç”Ÿ CheckMacValue é˜²æ­¢åƒæ•¸ç¯¡æ”¹ï¼›å…¶æ¬¡æ¡ç”¨ Dual URL æ¨¡å¼ï¼ŒReturnURL ç¢ºä¿ Server ç«¯å¯é æ¥æ”¶ä»˜æ¬¾çµæœä¸¦æ›´æ–°è¨‚å–®ï¼ŒClientBackURL è² è²¬å°‡ç”¨æˆ¶å°å‘æˆåŠŸé é¢ã€‚é€™ç¨®è¨­è¨ˆå³ä½¿ Client ç«¯è·³è½‰å¤±æ•—ï¼ŒServer ç«¯ä¹Ÿèƒ½æ­£ç¢ºæ›´æ–°è¨‚å–®ç‹€æ…‹ï¼Œç¢ºä¿è³‡æ–™ä¸€è‡´æ€§ã€‚"

---

### 6. è§’è‰²æ¬Šé™æ§åˆ¶ï¼ˆRBACï¼‰

**å¯¦ä½œ**ï¼š
```csharp
// å¾Œç«¯æ¬Šé™æª¢æŸ¥
[Authorize]
public async Task<IActionResult> DeleteCase(int id)
{
    var userRole = User.FindFirst(ClaimTypes.Role)?.Value;

    if (userRole != "ç®¡ç†å“¡")
        return Forbid(); // 403 Forbidden

    await _caseService.DeleteAsync(id);
    return Ok();
}
```

```tsx
// å‰ç«¯æ¬Šé™æ§åˆ¶
const { isAdmin, isSupervisor, isStaff } = useUserRole();

{isAdmin && (
  <Button onClick={handleDelete}>åˆªé™¤å€‹æ¡ˆ</Button>
)}

{(isAdmin || isSupervisor) && (
  <Button onClick={handleApprove}>å¯©æ ¸å ±å</Button>
)}
```

**æ¬Šé™çŸ©é™£**ï¼š

| åŠŸèƒ½ | ç®¡ç†å“¡ | ç£å° | å“¡å·¥ |
|------|--------|------|------|
| æŸ¥çœ‹æ‰€æœ‰å€‹æ¡ˆ | âœ… | âœ… | âŒ |
| æ–°å¢å€‹æ¡ˆ | âœ… | âœ… | âœ… |
| ç·¨è¼¯å€‹æ¡ˆ | âœ… | âœ… | âœ…ï¼ˆåƒ…è‡ªå·±çš„ï¼‰ |
| åˆªé™¤å€‹æ¡ˆ | âœ… | âŒ | âŒ |
| ç®¡ç†ç”¨æˆ¶ | âœ… | âŒ | âŒ |

---

## ğŸ“ é¢è©¦å•ç­”æº–å‚™

### Q1: ç‚ºä»€éº¼é¸æ“‡å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ï¼Ÿ

**ç­”**ï¼š
1. **è·è²¬åˆ†é›¢**ï¼šå‰ç«¯å°ˆæ³¨ç”¨æˆ¶é«”é©—ï¼Œå¾Œç«¯å°ˆæ³¨æ¥­å‹™é‚è¼¯
2. **ä¸¦è¡Œé–‹ç™¼**ï¼šå‰å¾Œç«¯åœ˜éšŠå¯åŒæ™‚é–‹ç™¼ï¼Œæå‡æ•ˆç‡
3. **æ˜“æ–¼æ“´å±•**ï¼šæœªä¾†å¯è¼•é¬†æ–°å¢ Mobile Appï¼Œè¤‡ç”¨ç›¸åŒ API
4. **æ•ˆèƒ½å„ªåŒ–**ï¼šå‰ç«¯å¯éƒ¨ç½²åˆ° CDNï¼Œæ¸›è¼•å¾Œç«¯å£“åŠ›

---

### Q2: ECPay é‡‘æµå¦‚ä½•ç¢ºä¿å®‰å…¨æ€§ï¼Ÿ

**ç­”**ï¼š
1. **CheckMacValue é©—è­‰**ï¼šä½¿ç”¨ SHA256 åŠ å¯†ï¼Œé˜²æ­¢åƒæ•¸ç¯¡æ”¹
2. **Dual URL è¨­è¨ˆ**ï¼š
   - ReturnURLï¼ˆServer-to-Serverï¼‰ï¼šç¢ºä¿è¨‚å–®å¯é æ›´æ–°
   - ClientBackURLï¼ˆç€è¦½å™¨è·³è½‰ï¼‰ï¼šæä¾›ç”¨æˆ¶å›é¥‹
3. **é›™å‘é©—è­‰**ï¼šç™¼é€è«‹æ±‚æ™‚åŠ å¯†ï¼Œæ¥æ”¶å›èª¿æ™‚é©—è­‰
4. **ç‹€æ…‹æª¢æŸ¥**ï¼šåªæœ‰ RtnCode = "1" æ‰æ›´æ–°è¨‚å–®ç‚ºå·²ä»˜æ¬¾

---

### Q3: å¦‚ä½•è™•ç†ä¸åŒè§’è‰²çš„æ¬Šé™æ§åˆ¶ï¼Ÿ

**ç­”**ï¼š
æˆ‘å€‘å¯¦ä½œäº†åŸºæ–¼è§’è‰²çš„æ¬Šé™æ§åˆ¶ï¼ˆRBACï¼‰ï¼š
1. **å¾Œç«¯**ï¼šä½¿ç”¨ ASP.NET Core `[Authorize]` + Role Claims
2. **å‰ç«¯**ï¼šä½¿ç”¨ `useUserRole()` hook æ§åˆ¶ UI é¡¯ç¤º
3. **è³‡æ–™éš”é›¢**ï¼šå“¡å·¥åªèƒ½æŸ¥çœ‹è¢«æŒ‡æ´¾çš„å€‹æ¡ˆ
4. **æ“ä½œé™åˆ¶**ï¼šç£å°å¯ç®¡ç†ä½†ä¸èƒ½åˆªé™¤æ ¸å¿ƒè³‡æ–™

---

### Q4: Azure æœå‹™æ•´åˆçš„å„ªå‹¢æ˜¯ä»€éº¼ï¼Ÿ

**ç­”**ï¼š
1. **ç„¡éœ€è‡ªå»º**ï¼šä¸éœ€ç¶­è­· AI ä¼ºæœå™¨æˆ–æª”æ¡ˆä¼ºæœå™¨
2. **å…ˆé€² AI**ï¼šç›´æ¥ä½¿ç”¨ GPT-4ã€DALL-E 3 ç­‰æœ€æ–°æŠ€è¡“
3. **è‡ªå‹•æ“´å±•**ï¼šæ ¹æ“šæµé‡è‡ªå‹•èª¿æ•´è³‡æº
4. **é«˜å¯ç”¨æ€§**ï¼šAzure æä¾› 99.9% SLA
5. **æˆæœ¬å„ªåŒ–**ï¼šæŒ‰ä½¿ç”¨é‡ä»˜è²»ï¼Œç„¡éœ€é å…ˆæŠ•å…¥ç¡¬é«”æˆæœ¬

---

### Q5: å¦‚ä½•è™•ç†å¤§é‡è³‡æ–™çš„æ•ˆèƒ½å•é¡Œï¼Ÿ

**ç­”**ï¼š
1. **åˆ†é æŸ¥è©¢**ï¼šæ‰€æœ‰åˆ—è¡¨ API éƒ½æ”¯æ´åˆ†é 
2. **ç´¢å¼•å„ªåŒ–**ï¼šåœ¨å¸¸æŸ¥è©¢æ¬„ä½ï¼ˆEmailã€IDNumberï¼‰å»ºç«‹ç´¢å¼•
3. **å¿«å–æ©Ÿåˆ¶**ï¼šä½¿ç”¨ Redis å¿«å–å¸¸ç”¨è³‡æ–™ï¼ˆæœªä¾†è¦åŠƒï¼‰
4. **éåŒæ­¥è™•ç†**ï¼šä½¿ç”¨ `async/await` é¿å…é˜»å¡
5. **Azure Blob Storage**ï¼šå¤§å‹æª”æ¡ˆå„²å­˜åˆ°é›²ç«¯ï¼Œæ¸›è¼•è³‡æ–™åº«å£“åŠ›

---

## ğŸ“š ç›¸é—œæ–‡æª”

- **[00-å¿«é€Ÿé–‹å§‹.md](00-å¿«é€Ÿé–‹å§‹.md)** - ç³»çµ±å•Ÿå‹•æŒ‡å—
- **[02-Cloudflareå±•ç¤ºæŒ‡å—.md](02-Cloudflareå±•ç¤ºæŒ‡å—.md)** - å…¬é–‹å±•ç¤ºè¨­å®š
- **[03-æ¸¬è©¦å¸³è™Ÿ.md](03-æ¸¬è©¦å¸³è™Ÿ.md)** - æ¸¬è©¦å¸³è™Ÿèˆ‡æ¬Šé™
- **[04-ECPayç¶ ç•Œé‡‘æµæŠ€è¡“åˆ†æèˆ‡é¢è©¦æŒ‡å—.md](04-ECPayç¶ ç•Œé‡‘æµæŠ€è¡“åˆ†æèˆ‡é¢è©¦æŒ‡å—.md)** - é‡‘æµæ·±åº¦è§£æ
- **[05-GitHubæ¨é€æŒ‡å—.md](05-GitHubæ¨é€æŒ‡å—.md)** - Git ç‰ˆæœ¬æ§åˆ¶
- **[06-éƒ¨ç½²æŒ‡å—-å…è²»æ–¹æ¡ˆ.md](06-éƒ¨ç½²æŒ‡å—-å…è²»æ–¹æ¡ˆ.md)** - é›²ç«¯éƒ¨ç½²

---

<div align="center">

**æœ€å¾Œæ›´æ–°**ï¼š2025-12-29

**ä½œè€…**ï¼šAndy

</div>
